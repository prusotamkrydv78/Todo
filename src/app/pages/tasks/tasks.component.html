<div class="container min-h-[85vh]" style="min-height: 100vh">
  <!-- Header Section -->
  <header>
    <h1>My Tasks</h1>
    <p class="description">Organize your workflow with simplicity and style</p>
  </header>

  <!-- Search & Add Task Section -->
  <div class="controls">
    <input type="text" placeholder="Search tasks..." class="search" />
    <button class="add-task">+ Add Task</button>
  </div>

  <!-- Task Grid Section -->
  <div style="display: flex; flex-direction: column">
    <!-- Task 1 -->
    <!-- @for (task of tasksList?.data; track $index) {

    <div class="w-[80%] flex justify-between gap-3">
      <div>
        <h3 class="m-0">{{ task.title }}</h3>
        <p class="m-0">{{ task.description }}</p>
      </div>

      <div class="flex gap-1 items-center justify-center">
        <span
          [class]="
            task.isComplete
              ? 'status-container text-green-400'
              : 'status-container text-red-500'
          "
        >
          {{ task.isComplete ? "Done" : "not completed" }}
        </span>
        <div class="flex gap-1">
          <button class="edit-btn" (click)="onEdit(task._id)">Edit</button>
          <button class="delete-btn" (click)="onDelete(task._id)">
            Delete
          </button>
        </div>
      </div>
    </div>
    <hr class="w-[85%] mx-0" />

    <div
      *ngIf="showDialog"
      class="fixed inset-0 bg-black/50 flex justify-center items-center z-50"
    >
      <div class="bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-md space-y-4">
        <h2 class="text-xl font-bold text-gray-800 text-center">
          Update your Task
        </h2>
        <label for="title">Enter your title</label>
        <input
          type="text"
          placeholder="Enter your task"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          [(ngModel)]="taskData.title"
        />

        <label for="title">Enter your description</label>
        <input
          type="text"
          placeholder="Enter your task"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          [(ngModel)]="taskData.description"
        />
        <div class="flex justify-end space-x-4">
          <button
            class="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition"
            (click)="showDialog = false"
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
            (click)="onUpdate(task._id)"
          >
            Update Task
          </button>
        </div>
      </div>
    </div>
    } -->
    @for (task of tasksList; track $index) {

    <div class="card" style="margin: 10px 0">
      <p-panel [toggleable]="true" [collapsed]="true" [toggler]="'header'">
        <ng-template pTemplate="header">
          <div class="flex items-center gap-2">
            <span style="font-weight: bold">{{ task.title }}</span>
          </div>
        </ng-template>

        <div>
          <p style="margin: 0">
            {{ task.description }}
          </p>
          <div class="action">
            <p-button
              icon="pi pi-trash"
              [style]="{ color: 'red', fontWeight: 'bold' }"
              rounded
              text
            ></p-button>
            <p-button icon="pi pi-pencil" rounded text></p-button>
            <p-checkbox
              [(ngModel)]="task.isCompleted"
              [binary]="true"
              (onChange)="onCompleted(task.id)"
            />
          </div>
        </div>
      </p-panel>
    </div>

    }
  </div>

  <!-- View All Tasks Section -->
</div>
